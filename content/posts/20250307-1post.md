---
title: "Clineむずかしい"
date: 2025-03-07T00:29:40+09:00
draft: false
---

# Clineを試してみた感想

Clineを試してみた。使ったのはclaude 3.7 sonnet。とにかく速くて癖になる。

正直うまく使いこなせていない。
特にてこずったのは、[11ty](https://www.11ty.dev/)を動かしたときにCSSがうまく反映されない問題を解決しようとしただった。原因を考えてみる。

## 11tyでのCSS問題とClineの対応

11tyでCSSが正しく適用されないという問題に対し、Clineに解決を丸投げしてみた。そもそも11tyの全体像もわからぬまま、clineの圧倒的なリライトにそのままApproveを押したのが良くなかった。

気づけば、その場しのぎのような修正を繰り返してはなにも解決しないという状況になっていた。

具体的には、
- 11tyでビルドした後のファイルを直接修正する（その場しのぎ）
- 無効なリンクがあればベタ書きで追加する（それ更新されないじゃん）
という感じだった。

使っている技術（ここでは11ty、ひいてはSSG）の概要をあまり理解せずにプロンプトをなげ、Approveを投げたのがよくなかった。

あとは、今回の実装の特別なところがclineに伝わりづらいんだろうなとも思った。

[mizchiさんのCline記事](https://zenn.dev/mizchi/articles/all-in-on-cline)には、


``` 
- 外部参照やコンテキストがない
- 技術的なドメインに閉じている
- モックデータを作りやすい
- すでに既存実装がありそう
```


がClineの得意なこと、とあった。逆に言うと、コンテキストがあったり、技術的なドメインに閉じていない場合は、苦手何だと思う。あるいは、しっかりと人間が使いこなす必要あるのだろう。

## ClineのE2Eテスト？

特に驚いたのは、Clineがページを読み込み、クリックしてテストしていたことだ。これは使うAPIによってできるかできないかがわかれるそう。



## 今後の方針

この記事が参考になった。
[Clineに全部賭ける前に　〜Clineの動作原理を深掘り〜](https://zenn.dev/codeciao/articles/6d0a83e234a34a#%E3%82%A2%E3%82%B7%E3%82%B9%E3%82%BF%E3%83%B3%E3%83%88%E3%81%A8%E3%81%AE%E5%AF%BE%E8%A9%B1%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF)

``` 
システムプロンプトの設計
Clineの実行フローの中で一番大事なのはアシスタントに送る最初のメッセージの作成です。
ここではユーザーのメッセージに加え、ユーザーの環境情報とシステムプロンプトを1つにまとめてアシスタントに送信します。

環境情報では、アシスタントがプロジェクトのコンテキストをより詳細に理解できるように以下の内容などを追加します

- ユーザーが使用しているOS情報
- 返答の際の言語設定
- ホームディレクトリなどの環境情報
- .clinerulesファイルに定義されたプロジェクト固有のルール
- .clineignoreに指定された無視すべきファイル情報
システムプロンプトはClineの中で最も重要と言っても良い部分で、AIがユーザーの要求に対してどのような形で返信すればいいかのをマニュアルとして定義しています。
``` 


実際、他の人はどう使っているのか気になり、以下の資料を読んでみた。
- [mizchiさんのCline記事](https://zenn.dev/mizchi/articles/all-in-on-cline)
- [watanyさんのCline記事](https://zenn.dev/watany/articles/85af6cfb8dccb2)（100ドル使ったそう）

これらを読んで、やはりClineの適切な活用にはある程度の慣れが必要だと感じた。

もっと重要なのは、基礎となるような技術力ではあると思う。

- [ティム・オライリーの記事](https://www.oreilly.com/radar/the-end-of-programming-as-we-know-it/)
にあったように、技術力があり、かつ、新しいパラダイムにも対応できるような人が、AIを魔法のように使いこなせるのだと思う。

## AIの「70%問題」

また、Clineに限らず、AIの開発支援には「70%問題」があるという記事を読んだ。
- [AddyoのSubstack記事](https://addyo.substack.com/p/the-70-problem-hard-truths-about)

この問題は、AIが開発の初期段階を劇的に加速する一方で、最後の30%の仕上げにはエンジニアの知識と経験が不可欠である、というもの。熟練者ならAIを効果的に活用できるが、初心者は誤ったコードをそのまま受け入れてしまい、バグの修正に苦労することが多い。

まさに今回、Clineでのデバッグを試みたが、全体像を把握しないままデバッグしてしまい、結果として良くない修正をApproveしてしまった。これはまさに「70%問題」の典型例だった。

## 結局Hugoに切り替えた

最終的に、11tyのトラブルシューティングに時間をかけるより、Hugoでやった方がラクだったので、そちらに切り替えた。


## まとめ

Clineを使ってみた感想としては
- AIに頼る前に問題を整理することが重要
- その場しのぎの解決ループに注意
- ClineはE2Eテストのような挙動をする
- 「70%問題」に注意。細部の調整や判断は人間が行う必要がある

結局Hugoがラクだった。

### 参考資料
- [11ty公式サイト](https://www.11ty.dev/)
- [mizchiさんのCline記事](https://zenn.dev/mizchi/articles/all-in-on-cline)
- [Clineに全部賭ける前に](https://zenn.dev/codeciao/articles/6d0a83e234a34a#%E3%82%A2%E3%82%B7%E3%82%B9%E3%82%BF%E3%83%B3%E3%83%88%E3%81%A8%E3%81%AE%E5%AF%BE%E8%A9%B1%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF)
- [watanyさんのCline記事](https://zenn.dev/watany/articles/85af6cfb8dccb2)
- [ティム・オライリーの記事](https://www.oreilly.com/radar/the-end-of-programming-as-we-know-it/)
- [AIの70%問題](https://addyo.substack.com/p/the-70-problem-hard-truths-about)
